<!doctype html>
<html lang="fr">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Joyeux Anniversaire Laoura</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&amp;family=Montserrat:wght@300;400&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: 'Montserrat', sans-serif;
    }

    html {
      height: 100%;
    }

    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #fafafa;
      overflow: hidden;
      perspective: 1500px;
    }

    .card-container {
      position: relative;
      width: 500px;
      height: 650px;
      max-width: 85%;
      max-height: 80%;
      cursor: pointer;
      transition: transform 0.9s cubic-bezier(0.23, 1, 0.32, 1);
      transform-style: preserve-3d;
      z-index: 10;
    }

    .card-container.flipped {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 4px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 70px 50px;
      box-sizing: border-box;
      background: #ffffff;
    }

    .card-front {
      border: 1px solid #e8e8e8;
    }

    .card-back {
      transform: rotateY(180deg);
      border: 1px solid #e8e8e8;
      overflow-y: auto;
      justify-content: flex-start;
      padding: 60px 50px;
    }

    .divider {
      width: 60px;
      height: 1px;
      background: #1a1a1a;
      margin: 30px 0;
    }

    .main-title {
      font-size: 16px;
      font-weight: 300;
      color: #666666;
      margin: 0 0 30px 0;
      letter-spacing: 4px;
      text-transform: uppercase;
      line-height: 1.2;
    }

    .name {
      font-size: 72px;
      font-weight: 500;
      color: #1a1a1a;
      margin: 0;
      letter-spacing: -1px;
      font-family: 'Playfair Display', serif;
      line-height: 1;
    }

    .click-hint {
      font-size: 11px;
      color: #999999;
      margin-top: 50px;
      font-weight: 300;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .back-content {
      width: 100%;
      height: 100%;
      overflow-y: auto;
    }

    .back-message {
      font-size: 15px;
      line-height: 1.9;
      color: #333333;
      text-align: left;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-weight: 300;
      letter-spacing: 0.3px;
    }

    @media (max-width: 768px) {
      .card-container {
        width: 90%;
        height: 75%;
      }

      .card-face {
        padding: 40px 30px;
      }
      
      .main-title {
        font-size: 14px;
      }
      
      .name {
        font-size: 48px;
      }

      .back-message {
        font-size: 14px;
      }

      .click-hint {
        font-size: 10px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <div class="card-container" id="cardContainer">
    <div class="card-face card-front">
     <h1 class="main-title" id="mainMessage">Joyeux Anniversaire</h1>
     <div class="divider"></div>
     <h2 class="name" id="birthdayName">Laoura</h2>
     <div class="divider"></div>
     <p class="click-hint">Cliquer pour lire</p>
    </div>
    <div class="card-face card-back">
     <div class="back-content">
      <p class="back-message" id="backMessage">Joyeux anniversaire, un an plus proche de la retraite mais t'inquiète ça se voit pas pour le moment. Félicitations pour ton appartement et pour LVMH. En espérant que t'auras ton cadeau dans un avenir proche pas comme Diana (t'inquiète pas je sais déjà ce que c'est j'attends juste qu'il revienne en stock). Bref félicitations, prochaine étape monter une startup et avec un peu de chance quitter ton vieux gars. PS: La vie est assez dure comme ça pour avoir à le supporter</p>
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      birthday_name: "Laoura",
      main_message: "Joyeux Anniversaire",
      back_message: "Joyeux anniversaire, un an plus proche de la retraite mais t'inquiète ça se voit pas pour le moment.\n\nFélicitations pour ton appartement et pour LVMH.\n\nEn espérant que t'auras ton cadeau dans un avenir proche pas comme Diana (t'inquiète pas je sais déjà ce que c'est j'attends juste qu'il revienne en stock).\n\nBref félicitations, prochaine étape monter une startup et avec un peu de chance quitter ton vieux gars.\n\nPS: La vie est assez dure comme ça pour avoir à le supporter",
      background_color: "#fafafa",
      card_color: "#ffffff",
      text_color: "#1a1a1a",
      back_text_color: "#333333",
      font_family: "Playfair Display",
      font_size: 16
    };

    // Card flip functionality
    const cardContainer = document.getElementById('cardContainer');
    cardContainer.addEventListener('click', () => {
      cardContainer.classList.toggle('flipped');
    });

    // Element SDK implementation
    async function onConfigChange(config) {
      const mainMessageEl = document.getElementById('mainMessage');
      const birthdayNameEl = document.getElementById('birthdayName');
      const backMessageEl = document.getElementById('backMessage');
      const container = document.querySelector('.container');
      const cardFaces = document.querySelectorAll('.card-face');
      const mainTitle = document.querySelector('.main-title');
      const name = document.querySelector('.name');
      const backMessage = document.querySelector('.back-message');

      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = 'Montserrat, sans-serif';
      const baseSize = config.font_size || defaultConfig.font_size;

      mainMessageEl.textContent = config.main_message || defaultConfig.main_message;
      birthdayNameEl.textContent = config.birthday_name || defaultConfig.birthday_name;
      backMessageEl.textContent = config.back_message || defaultConfig.back_message;

      container.style.background = config.background_color || defaultConfig.background_color;
      cardFaces.forEach(face => {
        face.style.background = config.card_color || defaultConfig.card_color;
      });
      
      mainTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
      mainTitle.style.fontSize = `${baseSize}px`;
      
      name.style.color = config.text_color || defaultConfig.text_color;
      name.style.fontFamily = `${customFont}, Playfair Display, serif`;
      name.style.fontSize = `${baseSize * 4.5}px`;
      
      backMessage.style.color = config.back_text_color || defaultConfig.back_text_color;
      backMessage.style.fontFamily = `${customFont}, ${baseFontStack}`;
      backMessage.style.fontSize = `${baseSize * 0.9375}px`;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ background_color: value });
              }
            }
          },
          {
            get: () => config.card_color || defaultConfig.card_color,
            set: (value) => {
              config.card_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ card_color: value });
              }
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          },
          {
            get: () => config.back_text_color || defaultConfig.back_text_color,
            set: (value) => {
              config.back_text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ back_text_color: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_family: value });
            }
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["birthday_name", config.birthday_name || defaultConfig.birthday_name],
        ["main_message", config.main_message || defaultConfig.main_message],
        ["back_message", config.back_message || defaultConfig.back_message]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ce0bb7b6bbc395',t:'MTc2Mjg2Njc5NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
